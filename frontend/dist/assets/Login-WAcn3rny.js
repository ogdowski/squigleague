import{u as h,f as l,c as u,b as t,a as k,g as L,h as V,i as c,v,t as p,e as m,d as C,w as D,r as _,j as N,k as S,o as g}from"./index-CRTPRc-Y.js";const z={class:"max-w-md mx-auto"},B={class:"card"},M={key:0,class:"bg-red-900/30 border border-red-500 text-red-200 px-4 py-3 rounded"},j=["disabled"],q={class:"text-center mt-6 text-gray-400"},R={__name:"Login",setup(A){const f="/api",b=S(),y=h(),r=l(""),i=l(""),s=l(""),o=l(!1),x=async()=>{var a,e;s.value="",o.value=!0;try{await y.login(r.value,i.value),b.push("/")}catch(n){s.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.detail)||"Login failed. Please try again."}finally{o.value=!1}},w=async()=>{try{const a=await N.get(`${f}/auth/oauth/discord`);window.location.href=a.data.authorization_url}catch{s.value="Discord login is not available at the moment"}};return(a,e)=>{const n=_("router-link");return g(),u("div",z,[t("div",B,[e[7]||(e[7]=t("h1",{class:"text-3xl font-bold mb-6 text-center"},"Login",-1)),t("form",{onSubmit:L(x,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>r.value=d),type:"email",required:"",class:"input-field w-full",placeholder:"your@email.com"},null,512),[[v,r.value]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium mb-2"},"Password",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>i.value=d),type:"password",required:"",class:"input-field w-full",placeholder:"••••••••"},null,512),[[v,i.value]])]),s.value?(g(),u("div",M,p(s.value),1)):V("",!0),t("button",{type:"submit",disabled:o.value,class:"btn-primary w-full"},p(o.value?"Logging in...":"Login"),9,j)],32),e[8]||(e[8]=k('<div class="my-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-800 text-gray-400">Or continue with</span></div></div></div>',1)),t("div",{class:"space-y-3"},[t("button",{onClick:w,type:"button",class:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"#5865F2"},[t("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})],-1),t("span",null,"Continue with Discord",-1)])])]),t("p",q,[e[6]||(e[6]=m(" Don't have an account? ",-1)),C(n,{to:"/register",class:"text-squig-yellow hover:underline"},{default:D(()=>[...e[5]||(e[5]=[m(" Register here ",-1)])]),_:1})])])])}}};export{R as default};
